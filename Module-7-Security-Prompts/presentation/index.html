<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Модуль 7: Безопасность и защита промптов</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          </svg>
          SecurePrompt
        </div>
      </div>

      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" style="width: 0%"></div>
        </div>
        <div class="progress-text">0 из 6 уроков</div>
      </div>

      <nav class="sidebar-nav">
        <div class="nav-section">Модуль 7</div>

        <a href="index.html" class="nav-item active">
          <span class="nav-item-number">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
              <polyline points="9,22 9,12 15,12 15,22"/>
            </svg>
          </span>
          Главная
        </a>

        <a href="lesson-1.html" class="nav-item" data-lesson="1">
          <span class="nav-item-number">1</span>
          Prompt Injection
        </a>

        <a href="lesson-2.html" class="nav-item" data-lesson="2">
          <span class="nav-item-number">2</span>
          Типы атак
        </a>

        <a href="lesson-3.html" class="nav-item" data-lesson="3">
          <span class="nav-item-number">3</span>
          Техники защиты
        </a>

        <a href="lesson-4.html" class="nav-item" data-lesson="4">
          <span class="nav-item-number">4</span>
          Red Teaming
        </a>

        <a href="lesson-5.html" class="nav-item" data-lesson="5">
          <span class="nav-item-number">5</span>
          Практика: Защита промпта
        </a>

        <a href="project.html" class="nav-item" data-lesson="6">
          <span class="nav-item-number">P</span>
          Домашнее задание
        </a>

        <a href="../../index.html" class="nav-item exit-btn">
          <span class="nav-item-number">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
              <polyline points="16,17 21,12 16,7"/>
              <line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
          </span>
          Выйти из модуля
        </a>
      </nav>
    </aside>

    <!-- Overlay for mobile -->
    <div class="overlay"></div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="header">
        <button class="mobile-menu-btn" aria-label="Меню">
          <span></span>
          <span></span>
          <span></span>
        </button>

        <div class="breadcrumb">
          <a href="index.html">Модуль 7</a>
          <span class="breadcrumb-separator">/</span>
          <span>Главная</span>
        </div>

        <div class="header-actions">
          <div class="mode-toggle" title="Переключить режим">
            <div class="mode-toggle-switch"></div>
            <span class="mode-toggle-label">Режим студента</span>
          </div>
        </div>
      </header>

      <!-- Content -->
      <div class="content">
        <!-- Hero Section -->
        <section class="hero">
          <h1 class="hero-title">Безопасность и защита промптов</h1>
          <p class="hero-subtitle">
            Изучите уязвимости AI-систем и научитесь создавать защищённые промпты.<br>
            Prompt Injection, Jailbreaking, Red Teaming и лучшие практики безопасности.
          </p>
        </section>

        <!-- Teacher Note -->
        <div class="teacher-note">
          <div class="teacher-note-header">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8z"/>
              <path d="M12 6v6l4 2"/>
            </svg>
            Заметка для преподавателя
          </div>
          <div class="teacher-note-content">
            <p><strong>Общая продолжительность модуля:</strong> ~3 часа (5 уроков + домашнее задание)</p>
            <p><strong>Рекомендация:</strong> Демонстрируйте атаки и защиту в реальном времени. Используйте Gandalf game для интерактивного обучения.</p>
            <p><strong>Ключевая цель:</strong> Студенты понимают угрозы безопасности промптов и умеют создавать защищённые системы.</p>
          </div>
        </div>

        <!-- Warning Alert -->
        <div class="alert alert-warning">
          <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
            <line x1="12" y1="9" x2="12" y2="13"/>
            <line x1="12" y1="17" x2="12.01" y2="17"/>
          </svg>
          <div>
            <strong>Важно:</strong> Этот модуль содержит примеры атак на AI-системы.
            Используйте полученные знания только в этичных целях: для защиты собственных систем и
            авторизованного тестирования на проникновение.
          </div>
        </div>

        <!-- Info Alert -->
        <div class="alert alert-info">
          <svg class="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 16v-4"/>
            <path d="M12 8h.01"/>
          </svg>
          <div>
            <strong>Что вы изучите в этом модуле:</strong>
            <ul style="margin: 0.5rem 0 0 1rem;">
              <li><strong>Prompt Injection</strong> — понимание и выявление атак</li>
              <li><strong>Типы атак</strong> — Direct, Indirect, Multi-turn</li>
              <li><strong>Техники защиты</strong> — Input validation, Output filtering, Isolation</li>
              <li><strong>Red Teaming</strong> — этичное тестирование на проникновение</li>
              <li><strong>Best Practices</strong> — OWASP LLM Top 10 и современные стандарты</li>
            </ul>
          </div>
        </div>

        <!-- Key Message -->
        <div class="card" style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(245, 158, 11, 0.1) 100%); border: 2px solid var(--primary);">
          <div class="card-body" style="text-align: center;">
            <h3 style="margin-bottom: 0.5rem;">🛡️ Главная мысль модуля</h3>
            <p style="font-size: 1.125rem; margin: 0; color: var(--text-primary);">
              "Безопасность промптов — это не опция, а необходимость.<br>
              Каждый AI-продукт должен быть защищён от манипуляций."
            </p>
          </div>
        </div>

        <!-- Lesson Cards -->
        <h2 style="margin: 2rem 0 1rem;">Уроки модуля</h2>

        <div class="lesson-cards">
          <!-- Lesson 1 -->
          <a href="lesson-1.html" class="lesson-card">
            <div class="lesson-card-number">1</div>
            <h3 class="lesson-card-title">Prompt Injection</h3>
            <p class="lesson-card-desc">
              Что такое prompt injection, как работают атаки, реальные примеры и последствия.
            </p>
            <div class="lesson-card-meta">
              <span>⏱ 30 мин</span>
              <span>•</span>
              <span>Теория</span>
            </div>
          </a>

          <!-- Lesson 2 -->
          <a href="lesson-2.html" class="lesson-card">
            <div class="lesson-card-number">2</div>
            <h3 class="lesson-card-title">Типы атак</h3>
            <p class="lesson-card-desc">
              Direct, Indirect и Multi-turn атаки. Jailbreaking техники и их механизмы.
            </p>
            <div class="lesson-card-meta">
              <span>⏱ 35 мин</span>
              <span>•</span>
              <span>Теория + Демо</span>
            </div>
          </a>

          <!-- Lesson 3 -->
          <a href="lesson-3.html" class="lesson-card">
            <div class="lesson-card-number">3</div>
            <h3 class="lesson-card-title">Техники защиты</h3>
            <p class="lesson-card-desc">
              Input sanitization, Output filtering, Prompt isolation и многоуровневая защита.
            </p>
            <div class="lesson-card-meta">
              <span>⏱ 40 мин</span>
              <span>•</span>
              <span>Практика</span>
            </div>
          </a>

          <!-- Lesson 4 -->
          <a href="lesson-4.html" class="lesson-card" style="border-color: var(--warning);">
            <div class="lesson-card-number" style="background: var(--warning);">4</div>
            <h3 class="lesson-card-title">Red Teaming</h3>
            <p class="lesson-card-desc">
              Этичное тестирование на проникновение. Gandalf game и методология тестирования.
            </p>
            <div class="lesson-card-meta">
              <span>⏱ 35 мин</span>
              <span>•</span>
              <span>Интерактив</span>
            </div>
          </a>

          <!-- Practice -->
          <a href="lesson-5.html" class="lesson-card" style="border-color: var(--accent);">
            <div class="lesson-card-number" style="background: var(--accent);">5</div>
            <h3 class="lesson-card-title">Практика: Защита промпта</h3>
            <p class="lesson-card-desc">
              Создание максимально защищённого промпта для чатбота поддержки.
            </p>
            <div class="lesson-card-meta">
              <span>⏱ 40 мин</span>
              <span>•</span>
              <span>Hands-on</span>
            </div>
          </a>

          <!-- Final Project -->
          <a href="project.html" class="lesson-card" style="border-color: var(--primary); border-width: 2px;">
            <div class="lesson-card-number" style="background: linear-gradient(135deg, var(--primary), var(--warning));">P</div>
            <h3 class="lesson-card-title">Домашнее задание</h3>
            <p class="lesson-card-desc">
              Создание защищённого промпта + этичное тестирование промптов одногруппников.
            </p>
            <div class="lesson-card-meta">
              <span>Финальное задание</span>
            </div>
          </a>
        </div>

        <!-- Attack Types Overview -->
        <h2 style="margin: 2.5rem 0 1rem;">Типы атак на промпты</h2>

        <div class="attack-type-card direct">
          <div class="technique-card-icon">🎯</div>
          <h3 class="technique-card-title">Direct Injection</h3>
          <p class="technique-card-desc">
            Прямое внедрение вредоносных инструкций в пользовательский ввод.
            Попытки переопределить системные инструкции или извлечь конфиденциальную информацию.
          </p>
          <span class="technique-badge">Высокий риск</span>
        </div>

        <div class="attack-type-card indirect">
          <div class="technique-card-icon">🔗</div>
          <h3 class="technique-card-title">Indirect Injection</h3>
          <p class="technique-card-desc">
            Атака через внешние данные: RAG-системы, загруженные файлы, веб-контент.
            Вредоносные инструкции скрыты во внешних источниках.
          </p>
          <span class="technique-badge">Средний риск</span>
        </div>

        <div class="attack-type-card multiturn">
          <div class="technique-card-icon">🔄</div>
          <h3 class="technique-card-title">Multi-turn Injection</h3>
          <p class="technique-card-desc">
            Постепенная манипуляция через серию сообщений.
            Построение доверия перед атакой, эксплуатация контекста разговора.
          </p>
          <span class="technique-badge">Сложная атака</span>
        </div>

        <!-- Quick Start -->
        <div class="card" style="margin-top: 2rem;">
          <div class="card-header">Подготовка к модулю</div>
          <div class="card-body">
            <p>Для успешного прохождения модуля вам понадобится:</p>

            <ul class="checklist">
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="start-chatgpt"></span>
                <span class="checklist-text">Аккаунт ChatGPT (бесплатный или Plus)</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="start-claude"></span>
                <span class="checklist-text">Аккаунт Claude.ai (бесплатный или Pro)</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="start-gandalf"></span>
                <span class="checklist-text">Доступ к Gandalf game (gandalf.lakera.ai)</span>
              </li>
              <li class="checklist-item">
                <span class="checklist-checkbox" data-id="start-owasp"></span>
                <span class="checklist-text">Ознакомление с OWASP LLM Top 10</span>
              </li>
            </ul>

            <div style="margin-top: 1rem;">
              <a href="lesson-1.html" class="btn btn-primary">Начать обучение →</a>
            </div>
          </div>
        </div>

        <!-- Security Levels -->
        <div class="card">
          <div class="card-header">Уровни защиты промптов</div>
          <div class="card-body">
            <table style="width: 100%;">
              <thead>
                <tr>
                  <th>Уровень</th>
                  <th>Техники</th>
                  <th>Защита от</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><span class="security-level low">Базовый</span></td>
                  <td>Простые инструкции</td>
                  <td>Случайные ошибки</td>
                </tr>
                <tr>
                  <td><span class="security-level medium">Средний</span></td>
                  <td>Разделители, ограничения роли</td>
                  <td>Простые атаки</td>
                </tr>
                <tr>
                  <td><span class="security-level high">Продвинутый</span></td>
                  <td>Многоуровневая защита, мониторинг</td>
                  <td>Большинство атак</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Defense Architecture -->
        <div class="card">
          <div class="card-header">Архитектура защиты</div>
          <div class="card-body">
            <div class="architecture-diagram">
┌─────────────────────────────────────────────────────────────┐
│                   СИСТЕМА ЗАЩИТЫ ПРОМПТОВ                    │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌──────────────┐    ┌──────────────┐    ┌──────────────┐   │
│  │   INPUT      │    │   PROCESS    │    │   OUTPUT     │   │
│  │   LAYER      │ →  │   LAYER      │ →  │   LAYER      │   │
│  │              │    │              │    │              │   │
│  │ • Sanitize   │    │ • Isolation  │    │ • Filter     │   │
│  │ • Validate   │    │ • Monitor    │    │ • Validate   │   │
│  │ • Rate limit │    │ • Context    │    │ • Log        │   │
│  └──────────────┘    └──────────────┘    └──────────────┘   │
│                                                              │
│  ┌─────────────────────────────────────────────────────────┐ │
│  │              МОНИТОРИНГ И АЛЕРТИНГ                      │ │
│  │  • Логирование всех взаимодействий                      │ │
│  │  • Обнаружение подозрительных паттернов                 │ │
│  │  • Автоматические алерты при атаках                     │ │
│  └─────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>

  <script src="js/admin.js"></script>
  <script src="js/app.js"></script>
  <script src="js/quiz.js"></script>
</body>
</html>
